<html>
	<head>
		<title>Camette Manager</title>
		<link rel="stylesheet" href="/jquery/css/ui-lightness/jquery-ui-1.10.3.custom.css" />
		<script src="/jquery/js/jquery-1.9.1.js"></script>
	        <script src="/jquery/js/jquery-ui-1.10.3.custom.js"></script>
		<script src="/socket.io/socket.io.js"></script>

		<script>
			$( document ).ready(function() {
			// connect to node
			var socket = io.connect('http://192.168.0.1:1234');
			
			$( "#accordion" ).accordion({ active: false, collapsible: true });

			$( "#createProject" ).button().click(function( event ) {
                                event.preventDefault();
                                socket.emit('createProject', document.getElementById('projectName').value);
                        });

			$( "#continueProject" ).button().click(function( event ) {
                                event.preventDefault();
                                socket.emit('continueProject', document.getElementById('projectName').value);
                        });

			$( "#seeProjects" ).button().click(function( event ) {
                                event.preventDefault();
				window.location.href = '/timelapse_movies';
                        });

			$( "#synchroniseCamettes" ).button().click(function( event ) {
                                event.preventDefault();
                                window.location.href = '/server/sync.html';
                        });


			$( "#seeSnapshots" ).button().click(function( event ) {
                                event.preventDefault();
                                window.location.href = '/snapshots';
                        });

			$( "#recordedSounds" ).button().click(function( event ) {
                                event.preventDefault();
                                window.location.href = '/recordedsounds';
                        });

			socket.on('projectCreated', function(){window.location.href = 'timelapse.html';});
			socket.on('projectAlreadyExist', function(){alert('Project already exist, please choose an other name.');});
			socket.on('projectDoesntExist', function(){alert('Project Doesnt exist, please choose an other name.');});

			});

		</script>


		<style type="text/css">
			#wrap{
				width:100%;
				text-align:center;
			}
		</style>

	</head>

	<body>
		<div id=wrap>
		<p><h1>Welcome to the Camette manager</h1> </p>
		<p><h2>Please choose an action</h2></p>

		<div id="accordion">
			<h3>Make a timelapse</h3>
			<div>
				<p>
					<table style="border:0px;width:100%;text-align:center;"><tr><td style="text-align:right; width:50%;">Project Name:</td><td style="text-align:left;width:50%;"><input type="text" id="projectName"/></td></tr></table>
					<button id='createProject'>Create Project</button>
					<button id='continueProject'>Continue Project</button>
				</p>
			</div>
		<h3>Record a video</h3>
			<div><p>Under Development</p></div>

		</div>


		<p><button id='seeProjects'>See Projects Directory</button><button id='seeSnapshots'>See Snapshots</button><button id='recordedSounds'>Recorded Sounds</button><button id='synchroniseCamettes'>Synchronise Camettes</button></p>
		</div>

	</body>
</html>
